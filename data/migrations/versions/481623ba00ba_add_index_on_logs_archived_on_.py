"""Add index on logs_archived on repositorybuild

Revision ID: 481623ba00ba
Revises: b9045731c4de
Create Date: 2019-02-15 16:09:47.326805

"""

# revision identifiers, used by Alembic.
revision = "481623ba00ba"
down_revision = "b9045731c4de"

from alembic import op as original_op
from data.migrations.progress import ProgressWrapper


def upgrade(tables, tester, progress_reporter):
    op = ProgressWrapper(original_op, progress_reporter)
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_index(
        "repositorybuild_logs_archived", "repositorybuild", ["logs_archived"], unique=False
    )
    # ### end Alembic commands ###


def downgrade(tables, tester, progress_reporter):
    op = ProgressWrapper(original_op, progress_reporter)
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index("repositorybuild_logs_archived", table_name="repositorybuild")
    # ### end Alembic commands ###
