<div class="quota-management-view-element">
  <form>
  <table class="co-list-table">
    <tr>
      <td>
        Quota Management:
      </td>
      <td>
	<table class="co-table">
	  <td>
            <input class="margin-2 form-control width-440" type="number" name="quota-limit" ng-model="currentQuotaConfig['quota']">
	  </td>
	  <td>
            <select class="form-control"
                    ng-model="currentQuotaConfig['byte_unit']"
                    ng-options="val for val in quotaUnits">
            </select>
	  </td>
	</table>
      </td>
    </tr>

    <tr>
      <td>
        Limits:
      </td>
      <td>
        <table class="co-table" ng-if="currentQuotaConfig">

          <thead>
            <td class="hidden-xs">
              <span>Action</span>
            </td>
            <td class="hidden-xs">
              <span>Quota Threshold</span>
            </td>
            <td class="hidden-xs">
              <span></span>
            </td>
          </thead>

	  <!-- Update limits -->
          <tr ng-repeat="limit in currentQuotaConfig['limits']">
            <td>
              <select class="form-control" name="quotaLimitType" id="quotaLimitType"
                      ng-options="type for type in quotaLimitTypes"
                      ng-model="limit['type']">
              </select>
            </td>
            <td>
              <input class="form-control margin-2" type="number" name="limit-percent"
		     min="1" max="100" placeholder="Limit Percent" ng-model="limit['limit_percent']"/>
            </td>
            <td>
              <span class="margin-2">
                <button class="margin-2 btn btn-primary" ng-click="updateQuotaLimit(limit.id)" ng-disabled="disableUpdateQuota(limit.id)">
                  <i class="fa fa-trash"></i>
                  Update
                </button>
              </span>
              <span class="margin-2">
                <button class="margin-2 btn btn-danger" ng-click="deleteQuotaLimit(limit.id)">
                  <i class="fa fa-trash"></i>
                  Remove
                </button>
              </span>
            </td>
          </tr>

	  <!-- Add limit -->
          <tr>
            <td>
              <select class="form-control" name="quotaLimitType" id="quotaLimitType"
                      ng-options="type for type in quotaLimitTypes" ng-model="newLimitConfig['type']">
              </select>
            </td>
            <td>
              <input class="form-control margin-2" type="number" name="limit-percent"
		     min="1" max="100" placeholder="Percent threshold" ng-model="newLimitConfig['limit_percent']"/>
            </td>
            <td>
              <span class="margin-2">
		<button class="add-quota-limit btn btn-success hidden-xs" ng-click="addQuotaLimit()" ng-disabled="disableAddQuotaLimit()">
		  <i class="fa fa-plus margin-right-4"></i>
		  Add Quota Limit
		</button>
              </span>
            </td>
          </tr>

        </table>
      </td>
    </tr>

  </table>
      <div class="co-alert co-alert-danger" ng-if="errorMessage">
          {{ errorMessage }}
      </div>
      <div class="co-help-text" ng-if="warningMessage">
          {{ warningMessage }}
      </div>
	  <button class="margin-2 btn btn-primary save-quota-details margin-3"
      ng-disabled="disableSaveQuota()" ng-click="updateQuotaConfig()">Apply</button>
      <button class="btn btn-default" data-dismiss="modal">Close</button>
  </form>
</div>
